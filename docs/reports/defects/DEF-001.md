[← Back to baseline](../baseline.md)

# DEF-001 — Verification code error

## Summary  
User clicks "verify" when inputting valid verification code and gets an error on screen.

## Environment  
- App: melodex.io  
- Commit (SHA): `a0dad94`  
- Browser: Firefox  
- Device: desktop  
- Network: normal  
- Date: `09-09-2025`  

## Preconditions  
- One account can authenticate (Email and/or Google) and reach `/rank`.
- Email and password ready for registration process.

## Steps to Reproduce  
1. Prepare email that has no account linked, test username, and password
2. Go to create account and enter the email, test username, and password
3. Open email and get verification code
4. Enter verification code and click "Verify"

## Expected Result  
After clicking "verify", the account is activated, the user is authenticated, page the redirects to /rank.

## Actual Result  
Verification code is accepted, but a TypeError (`_ is not a function`) appears under “Back to Login” and no automatic redirect occurs.

## Impact  
Confuses the user and interrupts onboarding; user may think the verification failed. Requires manual navigation to continue, reducing trust in the flow.

## Triage  
- Severity: <Major>  
- Priority: <Medium>  

## Attachments  
- Screenshots: [DEF-001-1](../evidence/DEF-000-1.png)  [DEF-001-2](../evidence/DEF-000-2.png)
- Console logs: [DEF-001-console-1](../evidence/DEF-000-console-1.png)  [DEF-001-console-2](../evidence/DEF-000-console-2.png)

## Suspected Areas  
- 

## Diagnostics (what we tried)  
- <List any checks, reproductions, or experiments done>

## Proposed Fix (initial)  
- <Optional early suggestion if obvious>

---

**Owner:** <Assigned engineer/you>  
**Status:** Open  
**Opened:** <YYYY-MM-DD>  

### Linked Items  
- Risk: <R-XX if relevant>  
- Test(s): <SMK-XX or exploratory ID>

---

## Root Cause (fill after fix)  
<Explain the confirmed underlying cause.>

## Fix Reference  
- Commit/PR: <link or ID>  

## Verification Steps (post-fix)  
1. Re-run repro steps.  
2. Confirm expected behavior is observed.  
3. Capture fresh evidence (HAR/screenshot/logs).  

**Verified in:** commit `<sha>` / date `<YYYY-MM-DD>`  
**Verification Status:** <Pass/Fail>
